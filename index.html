<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Workforce Learning System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #4f46e5;
        }

        .logo-icon {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px;
            border-radius: 12px;
            font-size: 1.2rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .persona-switcher {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .persona-switcher:hover {
            border-color: #4f46e5;
            transform: translateY(-2px);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Main Layout */
        .main-layout {
            display: flex;
            min-height: calc(100vh - 80px);
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            padding: 2rem 0;
            overflow-y: auto;
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
        }

        .nav-section {
            margin-bottom: 2rem;
        }

        .nav-section h3 {
            color: #64748b;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 1.5rem;
            margin-bottom: 1rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 1.5rem;
            color: #475569;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 4px solid transparent;
        }

        .nav-item:hover {
            background: rgba(99, 102, 241, 0.1);
            color: #4f46e5;
            border-left-color: #4f46e5;
            transform: translateX(4px);
        }

        .nav-item.active {
            background: rgba(99, 102, 241, 0.15);
            color: #4f46e5;
            border-left-color: #4f46e5;
            font-weight: 600;
        }

        .nav-item .icon {
            width: 20px;
            height: 20px;
            font-size: 16px;
        }

        /* Content Area */
        .content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .content-header {
            margin-bottom: 2rem;
        }

        .content-title {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .content-subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
        }

        /* Dashboard Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 1rem;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1e293b;
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        .metric-label {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .metric-change {
            font-size: 0.85rem;
            padding: 4px 8px;
            border-radius: 6px;
            font-weight: 500;
        }

        .positive { background: #dcfce7; color: #166534; }
        .negative { background: #fecaca; color: #dc2626; }
        .warning { background: #fef3c7; color: #d97706; }

        /* Progress Bars */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 8px 0;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-green { background: linear-gradient(90deg, #10b981, #34d399); }
        .progress-blue { background: linear-gradient(90deg, #3b82f6, #60a5fa); }
        .progress-purple { background: linear-gradient(90deg, #8b5cf6, #a78bfa); }
        .progress-orange { background: linear-gradient(90deg, #f59e0b, #fbbf24); }

        /* AI Insights */
        .ai-insights {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .ai-insights h3 {
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .insight-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            backdrop-filter: blur(10px);
        }

        .insight-item:last-child {
            margin-bottom: 0;
        }

        /* Persona-specific content visibility */
        .persona-content {
            display: none;
        }

        .persona-content.active {
            display: block;
        }

        /* Hidden by default */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.6s ease-out;
        }

        /* Recommendations */
        .recommendation-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.95);
        }

        .recommendation-item:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
        }

        .recommendation-thumbnail {
            width: 80px;
            height: 60px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            text-align: center;
            font-weight: bold;
            line-height: 1.2;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .recommendation-content {
            flex: 1;
        }

        .recommendation-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .recommendation-meta {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 0.5rem;
        }

        .recommendation-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .tag.priority {
            background: #fff3e0;
            color: #f57c00;
        }

        .tag.skill-gap {
            background: #ffebee;
            color: #d32f2f;
        }

        /* Learning Path */
        .learning-path {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .path-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            position: relative;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .path-item.completed {
            background: #f8fff8;
            border-color: #4caf50;
        }

        .path-item.current {
            background: #fff8e1;
            border-color: #ff9800;
        }

        .path-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .path-number.completed {
            background: #4caf50;
            color: white;
        }

        .path-number.current {
            background: #ff9800;
            color: white;
        }

        /* Profile Settings Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: fadeInScale 0.3s ease-out;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6c757d;
            transition: color 0.2s ease;
        }

        .close-btn:hover {
            color: #2c3e50;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-layout {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                padding: 1rem 0;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 1.5rem;
            }

            .checkbox-group {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <div class="logo-icon">🧠</div>
            <span>AI Learning Hub</span>
        </div>
        
        <div class="user-info">
            <select class="persona-switcher" id="personaSwitcher" onchange="switchPersona()">
                <option value="learner">👤 Frontline Learner</option>
                <option value="sales">💼 Sales Representative</option>
                <option value="technician">🔧 Technician / Service Professional</option>
                <option value="trainer">🎓 Trainer / L&D Specialist</option>
                <option value="manager">👔 Manager / Team Lead</option>
                <option value="compliance">⚖️ Compliance Officer</option>
                <option value="hr">👥 HR Business Partner</option>
                <option value="it">💻 IT / Systems Administrator</option>
                <option value="executive">🎯 Executive / VP of L&D</option>
            </select>
            <div class="user-avatar" id="userAvatar">AC</div>
            <div>
                <div style="font-weight: 600; color: #1e293b;" id="userName">Alex Chen</div>
                <div style="font-size: 0.85rem; color: #64748b;" id="userRole">Customer Service Rep</div>
            </div>
        </div>
    </div>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="nav-section">
                <h3>Core Dashboard</h3>
                <a class="nav-item active" onclick="showSection('dashboard')">
                    <span class="icon">📊</span>
                    Dashboard Overview
                </a>
            </div>

            <div class="nav-section">
                <h3>Learning & Development</h3>
                <a class="nav-item" onclick="showSection('recommendations')">
                    <span class="icon">🎯</span>
                    AI Recommendations
                </a>
                <a class="nav-item" onclick="showSection('learning-path')">
                    <span class="icon">🛤️</span>
                    My Learning Path
                </a>
                <a class="nav-item" onclick="showSection('training-gaps')">
                    <span class="icon">📈</span>
                    Training & Compliance
                </a>
                <a class="nav-item" onclick="showSection('star-rewards')">
                    <span class="icon">⭐</span>
                    STAR Rewards
                </a>
            </div>

            <div class="nav-section">
                <h3>Analytics & Insights</h3>
                <a class="nav-item" onclick="showSection('top-performers')">
                    <span class="icon">🏆</span>
                    Top Performer Analysis
                </a>
                <a class="nav-item" onclick="showSection('analytics')">
                    <span class="icon">📊</span>
                    Learning Analytics
                </a>
                <a class="nav-item" onclick="showSection('reports')">
                    <span class="icon">📋</span>
                    Generate Reports
                </a>
            </div>

            <div class="nav-section">
                <h3>Profile & Settings</h3>
                <a class="nav-item" onclick="showSection('user-profile')">
                    <span class="icon">👤</span>
                    User Profile
                </a>
                <a class="nav-item" onclick="openProfileModal()">
                    <span class="icon">⚙️</span>
                    Profile Settings
                </a>
                <a class="nav-item" onclick="showSection('sso-management')">
                    <span class="icon">🔐</span>
                    SSO Management
                </a>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content">
            <!-- Dashboard Overview -->
            <div id="dashboard" class="content-section active">
                <div class="content-header">
                    <h1 class="content-title">Welcome back, <span id="dashboardUserName">Alex</span>! 👋</h1>
                    <p class="content-subtitle">Your personalized learning dashboard powered by AI insights</p>
                </div>

                <!-- Learner Dashboard -->
                <div id="learner-dashboard" class="persona-content active">
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #dcfce7; color: #166534;">📚</div>
                                <div class="card-title">Learning Progress</div>
                            </div>
                            <div class="metric-value" style="color: #059669;" id="learningProgress">78%</div>
                            <div class="metric-label">Monthly Goals</div>
                            <div class="progress-bar">
                                <div class="progress-fill progress-green" style="width: 78%;"></div>
                            </div>
                            <div class="metric-change positive">+12% this month</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #fef3c7; color: #d97706;">🎯</div>
                                <div class="card-title">Skills Gaps</div>
                            </div>
                            <div class="metric-value" style="color: #d97706;" id="skillsGaps">2</div>
                            <div class="metric-label">Priority Areas</div>
                            <div style="font-size: 0.9rem;">
                                <div>• Digital Tools Proficiency</div>
                                <div>• Advanced Problem Solving</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #dbeafe; color: #1e40af;">🏆</div>
                                <div class="card-title">Badges Earned</div>
                            </div>
                            <div class="metric-value" style="color: #2563eb;" id="badgesEarned">5</div>
                            <div class="metric-label">This Quarter</div>
                            <div style="font-size: 0.9rem; color: #059669;">Latest: Customer Service Pro</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #f3e5f5; color: #9c27b0;">📱</div>
                                <div class="card-title">Mobile Learning</div>
                            </div>
                            <div class="metric-value" style="color: #9c27b0;" id="mobileUsage">65%</div>
                            <div class="metric-label">On Mobile Device</div>
                            <div style="font-size: 0.9rem;">Perfect for microlearning!</div>
                        </div>
                    </div>

                    <div class="ai-insights">
                        <h3>🤖 AI Learning Assistant</h3>
                        <div class="insight-item">
                            <strong>Personalized Pace:</strong> Your learning improves 35% with 15-minute sessions. We've adjusted recommendations accordingly.
                        </div>
                        <div class="insight-item">
                            <strong>Mobile Preference:</strong> You complete 80% more content on mobile. Consider downloading modules for offline access.
                        </div>
                        <div class="insight-item">
                            <strong>Skills Alert:</strong> Digital tools training now available - critical for your role advancement.
                        </div>
                    </div>
                </div>

                <!-- Sales Representative Dashboard -->
                <div id="sales-dashboard" class="persona-content">
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #dcfce7; color: #166534;">💰</div>
                                <div class="card-title">Sales Performance</div>
                            </div>
                            <div class="metric-value" style="color: #059669;">124%</div>
                            <div class="metric-label">Quota Achievement</div>
                            <div style="font-size: 0.9rem; color: #059669;">🎯 Above target!</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #fef3c7; color: #d97706;">📚</div>
                                <div class="card-title">Product Knowledge</div>
                            </div>
                            <div class="metric-value" style="color: #d97706;">89%</div>
                            <div class="metric-label">Certification Level</div>
                            <div style="font-size: 0.9rem;">2 new products to learn</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #dbeafe; color: #1e40af;">🎮</div>
                                <div class="card-title">Leaderboard</div>
                            </div>
                            <div class="metric-value" style="color: #2563eb;">#3</div>
                            <div class="metric-label">Team Ranking</div>
                            <div style="font-size: 0.9rem;">🔥 Moving up!</div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon" style="background: #f3e5f5; color: #9c27b0;">🎯</div>
                                <div class="card-title">Micro-Certifications</div>
                            </div>
                            <div class="metric-value" style="color: #9c27b0;">8</div>
                            <div class="metric-label">Completed</div>
                            <div style="font-size: 0.9rem;">Latest: New Model Launch</div>
                        </div>
                    </div>

                    <div class="ai-insights">
                        <h3>🤖 Sales AI Coach</h3>
                        <div class="insight-item">
                            <strong>Win Rate Correlation:</strong> Your closing rate improves 28% after objection handling refreshers. Schedule one before big deals.
                        </div>
                        <div class="insight-item">
                            <strong>CRM Usage:</strong> Your pipeline accuracy increased 15% this month. Keep leveraging those new CRM skills!
                        </div>
                        <div class="insight-item">
                            <strong>Product Alert:</strong> New model launching next week. Complete certification to access early demo units.
                        </div>
                    </div>
                </div>

                <!-- Add other persona dashboards here -->
            </div>

            <!-- Recommendations Section -->
            <div id="recommendations" class="content-section">
                <div class="content-header">
                    <h1 class="content-title">🎯 AI-Powered Recommendations</h1>
                    <p class="content-subtitle">Personalized insights • Smart suggestions • Optimized learning paths</p>
                </div>

                <!-- Learner Recommendations -->
                <div id="learner-recommendations" class="persona-content active">
                    <h2 style="margin-bottom: 1.5rem; color: white;">Learning Recommendations for You</h2>
                    
                    <div style="margin-bottom: 2rem;">
                        <h3 style="color: white; margin-bottom: 1rem;">🎯 Priority Training for You</h3>
                        
                        <div class="recommendation-item">
                            <div class="recommendation-thumbnail">🤝<br>COMM</div>
                            <div class="recommendation-content">
                                <div class="recommendation-title">Advanced Customer Communication</div>
                                <div class="recommendation-meta">4.9 ⭐ • 45 min • Intermediate</div>
                                <div class="recommendation-tags">
                                    <span class="tag skill-gap">Skill Gap Identified</span>
                                    <span class="tag priority">High Impact</span>
                                </div>
                            </div>
                        </div>

                        <div class="recommendation-item">
                            <div class="recommendation-thumbnail">🛠️<br>TOOL</div>
                            <div class="recommendation-content">
                                <div class="recommendation-title">Digital Tools Proficiency</div>
                                <div class="recommendation-meta">4.7 ⭐ • 1.2 hours • Beginner</div>
                                <div class="recommendation-tags">
                                    <span class="tag skill-gap">Skill Gap Identified</span>
                                    <span class="tag">Efficiency Boost</span>
                                </div>
                            </div>
                        </div>

                        <div class="recommendation-item">
                            <div class="recommendation-thumbnail">🧠<br>PROB</div>
                            <div class="recommendation-content">
                                <div class="recommendation-title">Advanced Problem Solving</div>
                                <div class="recommendation-meta">4.8 ⭐ • 30 min • Intermediate</div>
                                <div class="recommendation-tags">
                                    <span class="tag">Trending</span>
                                    <span class="tag">Popular in Your Role</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sales Recommendations -->
                <div id="sales-recommendations" class="persona-content">
                    <h2 style="margin-bottom: 1.5rem; color: white;">Sales Training Recommendations</h2>
                    
                    <div style="margin-bottom: 2rem;">
                        <h3 style="color: white; margin-bottom: 1rem;">🎯 Performance Boosters</h3>
                        
                        <div class="recommendation-item">
                            <div class="recommendation-thumbnail">🤝<br>OBJ</div>
                            <div class="recommendation-content">
                                <div class="recommendation-title">Advanced Objection Handling Mastery</div>
                                <div class="recommendation-meta">28% win rate improvement after completion</div>
                                <div class="recommendation-tags">
                                    <span class="tag priority">High Impact</span>
                                    <span class="tag">Performance Boost</span>
                                </div>
                            </div>
                        </div>

                        <div class="recommendation-item">
                            <div class="recommendation-thumbnail">📱<br>CRM</div>
                            <div class="recommendation-content">
                                <div class="recommendation-title">CRM Pipeline Optimization</div>
                                <div class="recommendation-meta">15% accuracy improvement • Better forecasting</div>
                                <div class="recommendation-tags">
                                    <span class="tag">Tools Mastery</span>
                                    <span class="tag">Efficiency</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Learning Path Section -->
            <div id="learning-path" class="content-section">
                <div class="content-header">
                    <h1 class="content-title">🛤️ My Learning Path</h1>
                    <p class="content-subtitle">Structured progression • Personalized journey • Clear milestones</p>
                </div>

                <!-- Learner Learning Path -->
                <div id="learner-learning-path" class="persona-content active">
                    <h2 style="margin-bottom: 1.5rem; color: white;">Customer Service Excellence Track</h2>
                    
                    <div class="learning-path">
                        <div class="path-item completed">
                            <div class="path-number completed">✓</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Communication Fundamentals</div>
                                <div style="font-size: 0.9rem; color: #6c757d;">Completed • 92% score</div>
                            </div>
                        </div>

                        <div class="path-item completed">
                            <div class="path-number completed">✓</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Product Knowledge Basics</div>
                                <div style="font-size: 0.9rem; color: #6c757d;">Completed • 88% score</div>
                            </div>
                        </div>

                        <div class="path-item current">
                            <div class="path-number current">3</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Advanced Problem Solving</div>
                                <div style="font-size: 0.9rem; color: #6c757d;">In Progress • 65% complete</div>
                                <div class="progress-bar" style="margin-top: 0.5rem;">
                                    <div class="progress-fill progress-orange" style="width: 65%;"></div>
                                </div>
                            </div>
                        </div>

                        <div class="path-item">
                            <div class="path-number">4</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Digital Tools Mastery</div>
                                <div style="font-size: 0.9rem; color: #6c757d;">Next • Unlocks after current course</div>
                            </div>
                        </div>

                        <div class="path-item">
                            <div class="path-number">5</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Customer Service Excellence Certification</div>
                                <div style="font-size: 0.9rem; color: #6c757d;">Final Assessment</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div id="analytics" class="content-section">
                <div class="content-header">
                    <h1 class="content-title">📊 Learning Analytics</h1>
                    <p class="content-subtitle">Performance insights • Learning patterns • Progress tracking</p>
                </div>
                
                <div class="dashboard-grid" style="margin-bottom: 2rem;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #dcfce7; color: #166534;">📚</div>
                            <div class="card-title">Courses Completed</div>
                        </div>
                        <div class="metric-value" style="color: #059669;">24</div>
                        <div class="metric-label">This quarter</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #dbeafe; color: #1e40af;">⏱️</div>
                            <div class="card-title">Learning Time</div>
                        </div>
                        <div class="metric-value" style="color: #2563eb;">47h</div>
                        <div class="metric-label">This month</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #fef3c7; color: #d97706;">📊</div>
                            <div class="card-title">Avg. Score</div>
                        </div>
                        <div class="metric-value" style="color: #d97706;">91%</div>
                        <div class="metric-label">Quiz average</div>
                    </div>
                </div>

                <div class="card">
                    <h3 style="margin-bottom: 1rem;">Learning Habits Analysis</h3>
                    <div style="margin-bottom: 1rem;">
                        <strong>Peak Learning Times:</strong>
                        <div style="margin-top: 0.5rem; display: flex; gap: 1rem; flex-wrap: wrap;">
                            <span class="tag">9:00 AM - 11:00 AM</span>
                            <span class="tag">2:00 PM - 4:00 PM</span>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <strong>Preferred Content Types:</strong>
                        <div style="margin-top: 0.5rem; display: flex; gap: 1rem; flex-wrap: wrap;">
                            <span class="tag">Interactive (45%)</span>
                            <span class="tag">Video (35%)</span>
                            <span class="tag">Text (20%)</span>
                        </div>
                    </div>
                    <div>
                        <strong>Learning Streak:</strong> 12 days (Personal best: 28 days)
                    </div>
                </div>
            </div>

            <!-- User Profile Section -->
            <div id="user-profile" class="content-section">
                <div class="content-header">
                    <h1 class="content-title">👤 User Profile & Personalization</h1>
                    <p class="content-subtitle">Customize experience • Track achievements • Manage preferences</p>
                </div>

                <!-- Profile Overview -->
                <div class="dashboard-grid">
                    <div class="card" style="grid-column: 1 / -1;">
                        <div style="display: flex; gap: 2rem; align-items: start;">
                            <div style="width: 120px; height: 120px; border-radius: 16px; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem; font-weight: bold;" id="profileAvatar">
                                AC
                            </div>
                            <div style="flex: 1;">
                                <h2 style="font-size: 2rem; font-weight: bold; color: #1e293b; margin-bottom: 0.5rem;" id="profileName">Alex Chen</h2>
                                <p style="color: #64748b; font-size: 1.1rem; margin-bottom: 1rem;" id="profileRole">Customer Service Representative • Central Region • 2.1 years experience</p>
                                
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem;">
                                    <div>
                                        <div style="font-size: 0.85rem; color: #64748b; margin-bottom: 2px;">Email</div>
                                        <div style="font-weight: 600;" id="profileEmail">alex.chen@company.com</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.85rem; color: #64748b; margin-bottom: 2px;">Manager</div>
                                        <div style="font-weight: 600;" id="profileManager">Sarah Martinez</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.85rem; color: #64748b; margin-bottom: 2px;">Department</div>
                                        <div style="font-weight: 600;" id="profileDepartment">Customer Service</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.85rem; color: #64748b; margin-bottom: 2px;">Performance Score</div>
                                        <div style="font-weight: 600; color: #059669;" id="profilePerformance">87/100</div>
                                    </div>
                                </div>
                                
                                <div style="display: flex; gap: 1rem;">
                                    <button class="btn btn-primary" onclick="openProfileModal()">✏️ Edit Profile</button>
                                    <button class="btn btn-secondary">📊 View Analytics</button>
                                    <button class="btn btn-secondary">🎯 Set Goals</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Skills & Achievements -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #dcfce7; color: #166534;">🎓</div>
                            <div class="card-title">Current Skills</div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <div>
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                    <span style="font-size: 0.9rem; font-weight: 500;">Customer Communication</span>
                                    <span style="color: #059669; font-size: 0.85rem;">✅ Proficient</span>
                                </div>
                                <div class="progress-bar" style="height: 6px;">
                                    <div class="progress-fill progress-green" style="width: 92%;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                    <span style="font-size: 0.9rem; font-weight: 500;">Digital Tools</span>
                                    <span style="color: #d97706; font-size: 0.85rem;">⚠️ Developing</span>
                                </div>
                                <div class="progress-bar" style="height: 6px;">
                                    <div class="progress-fill progress-orange" style="width: 45%;"></div>
                                </div>
                            </div>
                            <div>
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                    <span style="font-size: 0.9rem; font-weight: 500;">Problem Solving</span>
                                    <span style="color: #d97706; font-size: 0.85rem;">⚠️ Developing</span>
                                </div>
                                <div class="progress-bar" style="height: 6px;">
                                    <div class="progress-fill progress-orange" style="width: 70%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #fef3c7; color: #d97706;">🏅</div>
                            <div class="card-title">Achievements & Badges</div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; text-align: center;">
                            <div style="padding: 8px; background: #fef3c7; border-radius: 8px;">
                                <div style="font-size: 1.5rem; margin-bottom: 4px;">🥇</div>
                                <div style="font-size: 0.75rem; font-weight: 600;">Top Learner</div>
                            </div>
                            <div style="padding: 8px; background: #dcfce7; border-radius: 8px;">
                                <div style="font-size: 1.5rem; margin-bottom: 4px;">🎯</div>
                                <div style="font-size: 0.75rem; font-weight: 600;">Goal Crusher</div>
                            </div>
                            <div style="padding: 8px; background: #dbeafe; border-radius: 8px;">
                                <div style="font-size: 1.5rem; margin-bottom: 4px;">⚡</div>
                                <div style="font-size: 0.75rem; font-weight: 600;">Fast Finisher</div>
                            </div>
                            <div style="padding: 8px; background: #fce7f3; border-radius: 8px;">
                                <div style="font-size: 1.5rem; margin-bottom: 4px;">🤝</div>
                                <div style="font-size: 0.75rem; font-weight: 600;">Team Player</div>
                            </div>
                            <div style="padding: 8px; background: #ddd6fe; border-radius: 8px;">
                                <div style="font-size: 1.5rem; margin-bottom: 4px;">💎</div>
                                <div style="font-size: 0.75rem; font-weight: 600;">Quality Focus</div>
                            </div>
                            <div style="padding: 8px; background: #f3f4f6; border-radius: 8px; opacity: 0.5;">
                                <div style="font-size: 1.5rem; margin-bottom: 4px;">🔒</div>
                                <div style="font-size: 0.75rem; font-weight: 600;">Locked</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ai-insights">
                    <h3>🤖 AI-Powered Personal Insights</h3>
                    <div class="insight-item">
                        <strong>Next Course:</strong> "Advanced Problem Solving" - Based on your skill gap analysis and learning style preference for interactive content.
                    </div>
                    <div class="insight-item">
                        <strong>Career Path:</strong> You're on track for Team Lead role. Focus on leadership and communication courses next quarter.
                    </div>
                    <div class="insight-item">
                        <strong>Learning Tip:</strong> Your completion rate is highest during morning sessions. Schedule important training between 9-11 AM.
                    </div>
                </div>
            </div>

            <!-- SSO Management Section -->
            <div id="sso-management" class="content-section">
                <div class="content-header">
                    <h1 class="content-title">🔐 SSO Management & Identity Systems</h1>
                    <p class="content-subtitle">Unified identity • Profile synchronization • System integration</p>
                </div>

                <!-- SSO Dashboard Stats -->
                <div class="dashboard-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #dcfce7; color: #166534;">👥</div>
                            <div class="card-title">Active Learners</div>
                        </div>
                        <div class="metric-value" style="color: #059669;">47,832</div>
                        <div class="metric-label">Across all systems</div>
                        <div class="metric-change positive">+1,247 this month</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #dbeafe; color: #1e40af;">🔗</div>
                            <div class="card-title">Connected Systems</div>
                        </div>
                        <div class="metric-value" style="color: #1e40af;">12</div>
                        <div class="metric-label">Integrated platforms</div>
                        <div style="font-size: 0.85rem; color: #374151; margin-top: 0.5rem;">LMS, HRIS, CRM, Knowledge Base</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #fef3c7; color: #d97706;">⚡</div>
                            <div class="card-title">Profile Sync Rate</div>
                        </div>
                        <div class="metric-value" style="color: #d97706;">99.7%</div>
                        <div class="metric-label">Successful syncs</div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-orange" style="width: 99.7%;"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background: #dcfce7; color: #166534;">🛡️</div>
                            <div class="card-title">Security Status</div>
                        </div>
                        <div class="metric-value" style="color: #059669;">A+</div>
                        <div class="metric-label">Security Rating</div>
                        <div style="font-size: 0.85rem; color: #059669; margin-top: 0.5rem;">✅ 0 security incidents</div>
                    </div>
                </div>

                <!-- Main SSO Content -->
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                    <!-- Learner Directory -->
                    <div class="card">
                        <div style="background: #f8fafc; padding: 1.5rem 2rem; border-bottom: 1px solid #e2e8f0; border-radius: 16px 16px 0 0;">
                            <h3 style="font-weight: 600; color: #334155; margin-bottom: 0.5rem;">Learner Directory</h3>
                            <div style="position: relative; margin-top: 1rem;">
                                <span style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: #9ca3af;">🔍</span>
                                <input type="text" style="width: 100%; padding: 0.75rem 1rem 0.75rem 2.5rem; border: 1px solid #d1d5db; border-radius: 8px; font-size: 1rem;" placeholder="Search learners by name, email, department, or region...">
                            </div>
                        </div>
                        <div style="padding: 2rem;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="border-bottom: 1px solid #e2e8f0;">
                                        <th style="text-align: left; padding: 1rem; font-weight: 600; color: #475569;">Learner</th>
                                        <th style="text-align: left; padding: 1rem; font-weight: 600; color: #475569;">Department</th>
                                        <th style="text-align: left; padding: 1rem; font-weight: 600; color: #475569;">Region</th>
                                        <th style="text-align: left; padding: 1rem; font-weight: 600; color: #475569;">Last Active</th>
                                        <th style="text-align: left; padding: 1rem; font-weight: 600; color: #475569;">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="border-bottom: 1px solid #f1f5f9;">
                                        <td style="padding: 1rem;">
                                            <div>
                                                <strong>Sarah Chen</strong><br>
                                                <small style="color: #64748b;">sarah.chen@company.com</small>
                                            </div>
                                        </td>
                                        <td style="padding: 1rem;">Sales</td>
                                        <td style="padding: 1rem;">APAC</td>
                                        <td style="padding: 1rem;">2 minutes ago</td>
                                        <td style="padding: 1rem;"><button class="btn btn-secondary" onclick="viewLearnerProfile('sarah')">View Profile</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #f1f5f9;">
                                        <td style="padding: 1rem;">
                                            <div>
                                                <strong>Mike Rodriguez</strong><br>
                                                <small style="color: #64748b;">mike.rodriguez@company.com</small>
                                            </div>
                                        </td>
                                        <td style="padding: 1rem;">Field Service</td>
                                        <td style="padding: 1rem;">Americas</td>
                                        <td style="padding: 1rem;">15 minutes ago</td>
                                        <td style="padding: 1rem;"><button class="btn btn-secondary" onclick="viewLearnerProfile('mike')">View Profile</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #f1f5f9;">
                                        <td style="padding: 1rem;">
                                            <div>
                                                <strong>Emily Johnson</strong><br>
                                                <small style="color: #64748b;">emily.johnson@company.com</small>
                                            </div>
                                        </td>
                                        <td style="padding: 1rem;">Technical</td>
                                        <td style="padding: 1rem;">EMEA</td>
                                        <td style="padding: 1rem;">1 hour ago</td>
                                        <td style="padding: 1rem;"><button class="btn btn-secondary" onclick="viewLearnerProfile('emily')">View Profile</button></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #f1f5f9;">
                                        <td style="padding: 1rem;">
                                            <div>
                                                <strong>David Park</strong><br>
                                                <small style="color: #64748b;">david.park@company.com</small>
                                            </div>
                                        </td>
                                        <td style="padding: 1rem;">Training</td>
                                        <td style="padding: 1rem;">APAC</td>
                                        <td style="padding: 1rem;">3 hours ago</td>
                                        <td style="padding: 1rem;"><button class="btn btn-secondary" onclick="viewLearnerProfile('david')">View Profile</button></td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 1rem;">
                                            <div>
                                                <strong>Maria Silva</strong><br>
                                                <small style="color: #64748b;">maria.silva@company.com</small>
                                            </div>
                                        </td>
                                        <td style="padding: 1rem;">Customer Success</td>
                                        <td style="padding: 1rem;">Americas</td>
                                        <td style="padding: 1rem;">5 hours ago</td>
                                        <td style="padding: 1rem;"><button class="btn btn-secondary" onclick="viewLearnerProfile('maria')">View Profile</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- GenAI Profile Auto-Tagging -->
                    <div class="card">
                        <div style="background: #f8fafc; padding: 1.5rem 2rem; border-bottom: 1px solid #e2e8f0; border-radius: 16px 16px 0 0;">
                            <h3 style="font-weight: 600; color: #334155; margin-bottom: 0.5rem;">GenAI Profile Auto-Tagging</h3>
                            <p style="color: #64748b; font-size: 0.9rem;">Organization-defined rules for automatic profile categorization</p>
                        </div>
                        <div style="padding: 2rem;">
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                    <div style="display: flex; align-items: center; gap: 1rem;">
                                        <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #10b981;">🌏</div>
                                        <div>
                                            <div style="font-weight: 600;">APAC Region → Training Path A</div>
                                            <small style="color: #64748b;">Auto-assigns localized sales training for Asia-Pacific learners</small>
                                        </div>
                                    </div>
                                    <span style="padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 500; background: #dcfce7; color: #15803d;">234 applied</span>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                    <div style="display: flex; align-items: center; gap: 1rem;">
                                        <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #3b82f6;">🔧</div>
                                        <div>
                                            <div style="font-weight: 600;">Field Service → Technical Certification</div>
                                            <small style="color: #64748b;">Triggers technical skills assessment and certification path</small>
                                        </div>
                                    </div>
                                    <span style="padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 500; background: #dcfce7; color: #15803d;">89 applied</span>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                    <div style="display: flex; align-items: center; gap: 1rem;">
                                        <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #f59e0b;">👥</div>
                                        <div>
                                            <div style="font-weight: 600;">Manager Role → Leadership Track</div>
                                            <small style="color: #64748b;">Enrolls in management and leadership development programs</small>
                                        </div>
                                    </div>
                                    <span style="padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 500; background: #dcfce7; color: #15803d;">45 applied</span>
                                </div>

                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                    <div style="display: flex; align-items: center; gap: 1rem;">
                                        <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #8b5cf6;">🎯</div>
                                        <div>
                                            <div style="font-weight: 600;">New Hire → Onboarding Journey</div>
                                            <small style="color: #64748b;">Automatically assigns foundational training and compliance courses</small>
                                        </div>
                                    </div>
                                    <span style="padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 500; background: #dcfce7; color: #15803d;">67 applied</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Profile Management -->
                <div class="card" style="margin-bottom: 2rem;">
                    <div style="background: #f8fafc; padding: 1.5rem 2rem; border-bottom: 1px solid #e2e8f0; border-radius: 16px 16px 0 0;">
                        <h3 style="font-weight: 600; color: #334155; margin-bottom: 0.5rem;">Enhanced Profile Management</h3>
                        <p style="color: #64748b; font-size: 0.9rem;">Unified SSO profile with synchronized learning preferences</p>
                    </div>
                    <div style="padding: 2rem;">
                        <!-- SSO Connection Status -->
                        <div style="margin-bottom: 2rem; padding: 1rem; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #0284c7;">
                            <h4 style="margin-bottom: 0.5rem; color: #0c4a6e; display: flex; align-items: center; gap: 0.5rem;">
                                🔗 Unified SSO Access
                            </h4>
                            <p style="margin: 0; color: #075985; font-size: 0.9rem;">Your profile automatically syncs across all connected learning systems. Changes made here will personalize your experience in LMS, chatbots, and certification platforms.</p>
                        </div>

                        <!-- Profile Form Grid -->
                        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;">
                            <!-- Main Profile Information -->
                            <div>
                                <div style="background: #f8fafc; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                    <h4 style="margin-bottom: 1rem; color: #374151; display: flex; align-items: center; gap: 0.5rem;">
                                        📋 SSO Profile Information
                                    </h4>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Full Name</label>
                                            <input type="text" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; background: #f3f4f6;" value="Alex Chen" readonly>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Email Address</label>
                                            <input type="email" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; background: #f3f4f6;" value="alex.chen@company.com" readonly>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Department</label>
                                            <input type="text" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; background: #f3f4f6;" value="Customer Service" readonly>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Region</label>
                                            <input type="text" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; background: #f3f4f6;" value="Central" readonly>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Role</label>
                                            <input type="text" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; background: #f3f4f6;" value="Customer Service Representative" readonly>
                                        </div>
                                        <div>
                                            <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Team</label>
                                            <input type="text" style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem; background: #f3f4f6;" value="Customer Success - Central" readonly>
                                        </div>
                                    </div>
                                    <small style="color: #6b7280; font-style: italic; margin-top: 1rem; display: block;">✨ Auto-populated from Azure AD • Last synced: 2 minutes ago</small>
                                </div>

                                <!-- Personalization Preferences -->
                                <h4 style="margin-bottom: 1rem; color: #374151; display: flex; align-items: center; gap: 0.5rem;">
                                    🎯 Personalization Preferences
                                </h4>
                                
                                <div style="margin-bottom: 1.5rem;">
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Preferred Learning Formats</label>
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 0.5rem; margin-top: 0.5rem;">
                                        <label style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; background: white;">
                                            <input type="checkbox" checked> Video-based
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; background: white;">
                                            <input type="checkbox"> Reading/Text
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; background: white;">
                                            <input type="checkbox" checked> Practice-based
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 6px; cursor: pointer; background: white;">
                                            <input type="checkbox"> Interactive
                                        </label>
                                    </div>
                                </div>

                                <div style="margin-bottom: 1.5rem;">
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Notification Preferences</label>
                                    <div style="display: grid; gap: 0.5rem; margin-top: 0.5rem;">
                                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" checked> Email notifications for new courses
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" checked> GenAI chat reminders
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox"> SMS for certification deadlines
                                        </label>
                                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" checked> Weekly progress summaries
                                        </label>
                                    </div>
                                </div>

                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                                    <div>
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Language Preference</label>
                                        <select style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem;">
                                            <option value="en" selected>English</option>
                                            <option value="zh">中文 (Chinese)</option>
                                            <option value="ja">日本語 (Japanese)</option>
                                            <option value="ko">한국어 (Korean)</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Timezone</label>
                                        <select style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem;">
                                            <option value="cst" selected>Central Standard Time (CST)</option>
                                            <option value="est">Eastern Standard Time (EST)</option>
                                            <option value="pst">Pacific Standard Time (PST)</option>
                                            <option value="utc">Coordinated Universal Time (UTC)</option>
                                        </select>
                                    </div>
                                </div>

                                <div style="margin-bottom: 1.5rem;">
                                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #374151;">Professional Interests & Career Goals</label>
                                    <textarea style="width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 1rem;" rows="3" placeholder="Describe your areas of interest, career goals, or skills you'd like to develop...">Customer service excellence, digital communication tools, problem-solving techniques, team leadership development</textarea>
                                </div>

                                <div style="background: #f0fdf4; padding: 1rem; border-radius: 8px; margin: 1.5rem 0; border-left: 4px solid #22c55e;">
                                    <h4 style="margin-bottom: 0.5rem; color: #15803d; display: flex; align-items: center; gap: 0.5rem;">
                                        🤖 How GenAI Uses Your Profile
                                    </h4>
                                    <ul style="margin: 0; padding-left: 1.5rem; color: #166534; font-size: 0.9rem;">
                                        <li>Tailors course recommendations based on your role and interests</li>
                                        <li>Adjusts AI chat responses to your learning preferences</li>
                                        <li>Triggers relevant certifications and learning nudges</li>
                                        <li>Personalizes content delivery format and timing</li>
                                    </ul>
                                </div>

                                <div style="display: flex; gap: 1rem;">
                                    <button class="btn btn-primary" onclick="saveSSProfile()">Save Profile Changes</button>
                                    <button class="btn btn-secondary">Reset to Defaults</button>
                                </div>
                            </div>

                            <!-- Connected Learning Systems -->
                            <div>
                                <h4 style="margin-bottom: 1rem; color: #374151; display: flex; align-items: center; gap: 0.5rem;">
                                    🔄 Connected Learning Systems
                                </h4>
                                <p style="color: #64748b; font-size: 0.9rem; margin-bottom: 1rem;">Your unified profile provides seamless access across all learning platforms</p>
                                
                                <div style="display: flex; flex-direction: column; gap: 1rem;">
                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                        <div style="display: flex; align-items: center; gap: 1rem;">
                                            <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #e74c3c;">📚</div>
                                            <div>
                                                <div style="font-weight: 600;">Learning Management System</div>
                                                <small style="color: #64748b;">Access courses and track progress</small>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary" style="font-size: 0.8rem;">Launch LMS</button>
                                    </div>

                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                        <div style="display: flex; align-items: center; gap: 1rem;">
                                            <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #22c55e;">🤖</div>
                                            <div>
                                                <div style="font-weight: 600;">GenAI Learning Chat</div>
                                                <small style="color: #64748b;">Personalized AI assistance and guidance</small>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary" style="font-size: 0.8rem;">Open Chat</button>
                                    </div>

                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                        <div style="display: flex; align-items: center; gap: 1rem;">
                                            <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #3b82f6;">🏆</div>
                                            <div>
                                                <div style="font-weight: 600;">Certification Portal</div>
                                                <small style="color: #64748b;">Track certifications and achievements</small>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary" style="font-size: 0.8rem;">View Certs</button>
                                    </div>

                                    <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; transition: all 0.3s ease;">
                                        <div style="display: flex; align-items: center; gap: 1rem;">
                                            <div style="width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #8b5cf6;">📊</div>
                                            <div>
                                                <div style="font-weight: 600;">Performance Dashboard</div>
                                                <small style="color: #64748b;">Review learning analytics and progress</small>
                                            </div>
                                        </div>
                                        <button class="btn btn-primary" style="font-size: 0.8rem;">View Stats</button>
                                    </div>
                                </div>

                                <div style="margin-top: 1.5rem; padding: 1rem; background: #fef3c7; border-radius: 8px; border-left: 4px solid #f59e0b;">
                                    <h4 style="margin-bottom: 0.5rem; color: #92400e; display: flex; align-items: center; gap: 0.5rem;">
                                        🔐 Session Persistence
                                    </h4>
                                    <p style="margin: 0; color: #a16207; font-size: 0.9rem;">Federated identity tokens allow you to switch between learning tools without repeated login. Your session remains active across all connected systems.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Central Data Lake Analytics -->
                <div class="card">
                    <div style="background: #f8fafc; padding: 1.5rem 2rem; border-bottom: 1px solid #e2e8f0; border-radius: 16px 16px 0 0;">
                        <h3 style="font-weight: 600; color: #334155; margin-bottom: 0.5rem;">📊 Central Data Lake Analytics</h3>
                        <p style="color: #64748b; font-size: 0.9rem;">All learner profile and behavior data flows into a central data lake, creating comprehensive analytics across systems</p>
                    </div>
                    <div style="padding: 2rem;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                            <!-- Data Sources -->
                            <div class="card" style="margin: 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                                <div style="background: #f8fafc; padding: 1rem 1.5rem; border-bottom: 1px solid #e2e8f0; border-radius: 12px 12px 0 0;">
                                    <h4 style="font-weight: 600; color: #334155;">Data Sources</h4>
                                </div>
                                <div style="padding: 1.5rem;">
                                    <div style="display: grid; gap: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f8fafc; border-radius: 6px;">
                                            <span style="font-weight: 500;">LMS Course Progress</span>
                                            <span style="color: #10b981; font-size: 0.8rem;">47K records</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f8fafc; border-radius: 6px;">
                                            <span style="font-weight: 500;">GenAI Chat Interactions</span>
                                            <span style="color: #10b981; font-size: 0.8rem;">1.2M logs</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f8fafc; border-radius: 6px;">
                                            <span style="font-weight: 500;">Certification Completions</span>
                                            <span style="color: #10b981; font-size: 0.8rem;">8.7K certs</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f8fafc; border-radius: 6px;">
                                            <span style="font-weight: 500;">HRIS Performance Data</span>
                                            <span style="color: #10b981; font-size: 0.8rem;">15K reviews</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f8fafc; border-radius: 6px;">
                                            <span style="font-weight: 500;">CRM Activity Sync</span>
                                            <span style="color: #10b981; font-size: 0.8rem;">89K activities</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Analytics Dashboards -->
                            <div class="card" style="margin: 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                                <div style="background: #f8fafc; padding: 1rem 1.5rem; border-bottom: 1px solid #e2e8f0; border-radius: 12px 12px 0 0;">
                                    <h4 style="font-weight: 600; color: #334155;">Analytics Dashboards</h4>
                                </div>
                                <div style="padding: 1.5rem;">
                                    <div style="display: grid; gap: 0.75rem;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f0f9ff; border-radius: 6px;">
                                            <span style="font-weight: 500;">By Role</span>
                                            <span style="color: #0284c7; font-size: 0.8rem;">12 segments</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f0f9ff; border-radius: 6px;">
                                            <span style="font-weight: 500;">By Department</span>
                                            <span style="color: #0284c7; font-size: 0.8rem;">8 departments</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f0f9ff; border-radius: 6px;">
                                            <span style="font-weight: 500;">By Region</span>
                                            <span style="color: #0284c7; font-size: 0.8rem;">3 regions</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f0f9ff; border-radius: 6px;">
                                            <span style="font-weight: 500;">Learning Paths</span>
                                            <span style="color: #0284c7; font-size: 0.8rem;">45 paths</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: #f0f9ff; border-radius: 6px;">
                                            <span style="font-weight: 500;">GenAI Effectiveness</span>
                                            <span style="color: #0284c7; font-size: 0.8rem;">Real-time</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="display: flex; gap: 1rem;">
                            <button class="btn btn-primary">View Full Analytics</button>
                            <button class="btn btn-secondary">Export Data</button>
                            <button class="btn btn-secondary">API Documentation</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional sections would go here -->
        </div>
    </div>

    <!-- Profile Settings Modal -->
    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Learning Profile Settings</h2>
                <button class="close-btn" onclick="closeProfileModal()">&times;</button>
            </div>
            
            <form onsubmit="event.preventDefault(); saveProfile();">
                <div class="form-group">
                    <label class="form-label">Career Goals</label>
                    <select class="form-control" id="career-goals-select">
                        <!-- Options will be populated by JavaScript based on persona -->
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Preferred Content Formats</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="video" checked>
                            <label for="video">Video Tutorials</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="interactive" checked>
                            <label for="interactive">Interactive Simulations</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="roleplay">
                            <label for="roleplay">Role-play Scenarios</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="text">
                            <label for="text">Quick Reference Guides</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Learning Pace</label>
                    <select class="form-control">
                        <option>Intensive (2+ hours/day)</option>
                        <option selected>Moderate (1 hour/day)</option>
                        <option>Casual (30 min/day)</option>
                        <option>Flexible (as available)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Focus Areas</label>
                    <div class="checkbox-group" id="focus-areas-checkboxes">
                        <!-- Options will be populated by JavaScript based on persona -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Notification Preferences</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="daily-reminders" checked>
                            <label for="daily-reminders">Daily Learning Reminders</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="new-recommendations" checked>
                            <label for="new-recommendations">New Recommendations</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="achievement-alerts" checked>
                            <label for="achievement-alerts">Achievement Alerts</label>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeProfileModal()">Cancel</button>
                    <button type="submit" class="btn">Save Preferences</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Define persona data with names, roles, avatars, career goals, and focus areas
        const personaData = {
            learner: {
                name: "Alex Chen",
                role: "Customer Service Rep",
                avatar: "AC",
                email: "alex.chen@company.com",
                manager: "Sarah Martinez",
                department: "Customer Service",
                performance: "87/100",
                careerGoals: [
                    "Senior Customer Service Specialist",
                    "Team Lead", 
                    "Customer Success Manager",
                    "Training Coordinator"
                ],
                focusAreas: [
                    { id: "communication", label: "Customer Communication" },
                    { id: "product", label: "Product Knowledge" },
                    { id: "problem", label: "Problem Solving" },
                    { id: "compliance", label: "Compliance & Safety" },
                    { id: "digital", label: "Digital Tools" },
                    { id: "soft", label: "Soft Skills" }
                ]
            },
            sales: {
                name: "Jordan Martinez",
                role: "Sales Representative",
                avatar: "JM",
                email: "jordan.martinez@company.com",
                manager: "Mike Rodriguez",
                department: "Sales",
                performance: "124/100",
                careerGoals: [
                    "Senior Sales Rep",
                    "Sales Team Lead",
                    "Key Account Manager",
                    "Sales Manager"
                ],
                focusAreas: [
                    { id: "product", label: "Product Knowledge" },
                    { id: "objection", label: "Objection Handling" },
                    { id: "closing", label: "Closing Techniques" },
                    { id: "crm", label: "CRM Skills" },
                    { id: "negotiation", label: "Negotiation" },
                    { id: "prospecting", label: "Lead Generation" }
                ]
            },
            technician: {
                name: "Riley Thompson",
                role: "Field Service Technician",
                avatar: "RT",
                email: "riley.thompson@company.com",
                manager: "David Kim",
                department: "Field Service",
                performance: "92/100",
                careerGoals: [
                    "Senior Technician",
                    "Field Service Supervisor",
                    "Technical Trainer",
                    "Service Manager"
                ],
                focusAreas: [
                    { id: "troubleshooting", label: "Troubleshooting" },
                    { id: "safety", label: "Safety Protocols" },
                    { id: "equipment", label: "Equipment Certification" },
                    { id: "diagnostic", label: "Diagnostic Tools" },
                    { id: "mobile", label: "Mobile Technology" },
                    { id: "compliance", label: "Regulatory Compliance" }
                ]
            },
            trainer: {
                name: "David Kim",
                role: "L&D Specialist",
                avatar: "DK",
                email: "david.kim@company.com",
                manager: "Lisa Rodriguez",
                department: "Learning & Development",
                performance: "96/100",
                careerGoals: [
                    "Senior Learning Designer",
                    "Training Manager",
                    "Learning Technology Specialist",
                    "Chief Learning Officer"
                ],
                focusAreas: [
                    { id: "design", label: "Instructional Design" },
                    { id: "tech", label: "Learning Technology" },
                    { id: "assessment", label: "Assessment Design" },
                    { id: "analytics", label: "Learning Analytics" },
                    { id: "content", label: "Content Development" },
                    { id: "ai", label: "AI in Learning" }
                ]
            },
            manager: {
                name: "Sarah Johnson",
                role: "Team Manager",
                avatar: "SJ",
                email: "sarah.johnson@company.com",
                manager: "Marcus Williams",
                department: "Operations",
                performance: "91/100",
                careerGoals: [
                    "Senior Manager",
                    "Department Director",
                    "Regional Manager",
                    "VP of Operations"
                ],
                focusAreas: [
                    { id: "team", label: "Team Development" },
                    { id: "performance", label: "Performance Management" },
                    { id: "coaching", label: "Coaching & Mentoring" },
                    { id: "leadership", label: "Leadership Skills" },
                    { id: "analytics", label: "People Analytics" },
                    { id: "succession", label: "Succession Planning" }
                ]
            },
            compliance: {
                name: "Marcus Williams",
                role: "Compliance Officer",
                avatar: "MW",
                email: "marcus.williams@company.com",
                manager: "Jennifer Chen",
                department: "Risk & Compliance",
                performance: "94/100",
                careerGoals: [
                    "Senior Compliance Officer",
                    "Compliance Manager",
                    "Risk Management Director",
                    "Chief Compliance Officer"
                ],
                focusAreas: [
                    { id: "regulatory", label: "Regulatory Management" },
                    { id: "audit", label: "Audit & Controls" },
                    { id: "risk", label: "Risk Assessment" },
                    { id: "policy", label: "Policy Development" },
                    { id: "training", label: "Compliance Training" },
                    { id: "reporting", label: "Compliance Reporting" }
                ]
            },
            hr: {
                name: "Lisa Rodriguez",
                role: "HR Business Partner",
                avatar: "LR",
                email: "lisa.rodriguez@company.com",
                manager: "Robert Davis",
                department: "Human Resources",
                performance: "88/100",
                careerGoals: [
                    "Senior HR Business Partner",
                    "HR Manager",
                    "Talent Development Director",
                    "Chief People Officer"
                ],
                focusAreas: [
                    { id: "workforce", label: "Workforce Planning" },
                    { id: "talent", label: "Talent Development" },
                    { id: "analytics", label: "People Analytics" },
                    { id: "onboarding", label: "Onboarding & Integration" },
                    { id: "career", label: "Career Pathing" },
                    { id: "succession", label: "Succession Planning" }
                ]
            },
            it: {
                name: "Jennifer Chen",
                role: "IT Administrator",
                avatar: "JC",
                email: "jennifer.chen@company.com",
                manager: "Robert Davis",
                department: "Information Technology",
                performance: "99/100",
                careerGoals: [
                    "Senior IT Administrator",
                    "IT Manager",
                    "Solutions Architect",
                    "Technology Director"
                ],
                focusAreas: [
                    { id: "security", label: "System Security" },
                    { id: "integration", label: "System Integration" },
                    { id: "performance", label: "Performance Optimization" },
                    { id: "sso", label: "SSO & Identity Management" },
                    { id: "api", label: "API Management" },
                    { id: "monitoring", label: "System Monitoring" }
                ]
            },
            executive: {
                name: "Robert Davis",
                role: "VP of Learning & Development",
                avatar: "RD",
                email: "robert.davis@company.com",
                manager: "CEO",
                department: "Executive Leadership",
                performance: "97/100",
                careerGoals: [
                    "Senior VP of L&D",
                    "Chief Learning Officer",
                    "Chief Human Resources Officer",
                    "Chief Executive Officer"
                ],
                focusAreas: [
                    { id: "strategy", label: "Learning Strategy" },
                    { id: "roi", label: "ROI & Business Impact" },
                    { id: "innovation", label: "Learning Innovation" },
                    { id: "leadership", label: "Executive Leadership" },
                    { id: "transformation", label: "Digital Transformation" },
                    { id: "culture", label: "Learning Culture" }
                ]
            }
        };

        // Global state
        let currentPersona = 'learner';
        let currentSection = 'dashboard';

        /**
         * Switches the displayed persona based on the selector's value.
         * Updates user info, shows/hides persona-specific content.
         */
        function switchPersona() {
            const selector = document.getElementById('personaSwitcher');
            currentPersona = selector.value;
            const persona = personaData[currentPersona];
            
            // Update header user information
            document.getElementById('userName').textContent = persona.name;
            document.getElementById('userRole').textContent = persona.role;
            document.getElementById('userAvatar').textContent = persona.avatar;
            document.getElementById('dashboardUserName').textContent = persona.name.split(' ')[0];
            
            // Update profile information
            document.getElementById('profileName').textContent = persona.name;
            document.getElementById('profileRole').textContent = `${persona.role} • ${persona.department} • 2.1 years experience`;
            document.getElementById('profileAvatar').textContent = persona.avatar;
            document.getElementById('profileEmail').textContent = persona.email;
            document.getElementById('profileManager').textContent = persona.manager;
            document.getElementById('profileDepartment').textContent = persona.department;
            document.getElementById('profilePerformance').textContent = persona.performance;
            
            // Hide all persona-specific content
            document.querySelectorAll('.persona-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show the relevant content for the selected persona and active section
            const personaContentId = `${currentPersona}-${currentSection}`;
            const personaContentElement = document.getElementById(personaContentId);
            if (personaContentElement) {
                personaContentElement.classList.add('active');
            }
            
            // Update profile modal options based on the new persona
            updateProfileModal(currentPersona);
            
            // Add visual feedback
            document.querySelector('.header').style.transform = 'scale(0.98)';
            setTimeout(() => {
                document.querySelector('.header').style.transform = 'scale(1)';
            }, 150);
        }

        /**
         * Populates the Career Goals dropdown and Focus Areas checkboxes in the profile modal
         * based on the currently active persona.
         * @param {string} persona The ID of the currently selected persona (e.g., 'learner', 'sales').
         */
        function updateProfileModal(persona) {
            const data = personaData[persona];
            
            // Update career goals dropdown
            const careerSelect = document.getElementById('career-goals-select');
            careerSelect.innerHTML = ''; // Clear existing options
            data.careerGoals.forEach(goal => {
                const option = document.createElement('option');
                option.value = goal;
                option.textContent = goal;
                careerSelect.appendChild(option);
            });
            
            // Update focus areas checkboxes
            const focusContainer = document.getElementById('focus-areas-checkboxes');
            focusContainer.innerHTML = ''; // Clear existing checkboxes
            data.focusAreas.forEach(area => {
                const div = document.createElement('div');
                div.className = 'checkbox-item';
                // Randomly check some checkboxes to simulate saved preferences
                div.innerHTML = `
                    <input type="checkbox" id="${area.id}" ${Math.random() > 0.5 ? 'checked' : ''}>
                    <label for="${area.id}">${area.label}</label>
                `;
                focusContainer.appendChild(div);
            });
        }

        /**
         * Shows the selected main content section and updates the active navigation item.
         * @param {string} sectionName The ID of the section to show (e.g., 'dashboard', 'recommendations').
         */
        function showSection(sectionName) {
            // Hide all main sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show the selected main section
            document.getElementById(sectionName).classList.add('active');
            
            // Update active class for navigation items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update current section
            currentSection = sectionName;

            // Re-apply persona-specific content visibility for the newly active section
            document.querySelectorAll('.persona-content').forEach(content => {
                content.classList.remove('active');
            });
            
            const specificPersonaContentId = `${currentPersona}-${sectionName}`;
            const specificPersonaContentElement = document.getElementById(specificPersonaContentId);
            if (specificPersonaContentElement) {
                specificPersonaContentElement.classList.add('active');
            }
        }

        /**
         * Opens the profile settings modal.
         */
        function openProfileModal() {
            document.getElementById('profile-modal').classList.add('active');
        }

        /**
         * Closes the profile settings modal.
         */
        function closeProfileModal() {
            document.getElementById('profile-modal').classList.remove('active');
        }

        /**
         * Simulates saving profile preferences and displays a success message.
         */
        function saveProfile() {
            // In a real application, this would send data to a backend.
            console.log('Profile preferences saved!');
            closeProfileModal();
            
            // Display a temporary success message
            showNotification('✅ Profile preferences updated successfully!', 'success');
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : type === 'warning' ? '#f59e0b' : type === 'error' ? '#ef4444' : '#3b82f6'};
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                font-weight: 500;
                z-index: 10000;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                transform: translateX(100%);
                transition: transform 0.3s ease-out;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after delay
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial persona (default to 'learner')
            document.getElementById('personaSwitcher').value = 'learner';
            switchPersona(); // Call once to set initial state

            // Simulate real-time updates for progress bars
            setInterval(() => {
                const progressBars = document.querySelectorAll('.progress-fill');
                progressBars.forEach(bar => {
                    const currentWidth = parseInt(bar.style.width);
                    // Randomly increase progress for bars that are not yet 100%
                    if (Math.random() > 0.7 && currentWidth < 100) {
                        bar.style.width = (currentWidth + 1) + '%';
                    }
                });
            }, 5000); // Update every 5 seconds

            // Add click event listeners to recommendation items
            document.body.addEventListener('click', function(event) {
                const recommendationItem = event.target.closest('.recommendation-item');
                if (recommendationItem) {
                    // Prevent default link behavior if it were a real link
                    event.preventDefault(); 
                    // Show notification instead of alert
                    showNotification('Opening course: ' + recommendationItem.querySelector('.recommendation-title').textContent, 'info');
                }
            });

            // Add hover effects to cards
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-4px)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });

            // Animate progress bars on load
            setTimeout(() => {
                document.querySelectorAll('.progress-fill').forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 100);
                });
            }, 500);

            // Add pulse animation to metrics periodically
            setInterval(() => {
                document.querySelectorAll('.metric-value').forEach(metric => {
                    metric.classList.add('pulse');
                    setTimeout(() => {
                        metric.classList.remove('pulse');
                    }, 1000);
                });
            }, 10000);
        });

        // View learner profile from SSO management
        function viewLearnerProfile(userKey) {
            // Mock data for different users
            const profiles = {
                'sarah': {
                    name: 'Sarah Chen',
                    email: 'sarah.chen@company.com',
                    department: 'Sales',
                    region: 'APAC',
                    role: 'Senior Sales Representative',
                    team: 'Enterprise Sales - Asia'
                },
                'mike': {
                    name: 'Mike Rodriguez', 
                    email: 'mike.rodriguez@company.com',
                    department: 'Field Service',
                    region: 'Americas',
                    role: 'Field Service Technician',
                    team: 'Technical Support - West'
                },
                'emily': {
                    name: 'Emily Johnson',
                    email: 'emily.johnson@company.com', 
                    department: 'Technical',
                    region: 'EMEA',
                    role: 'Senior Technical Specialist',
                    team: 'Product Engineering - Europe'
                },
                'david': {
                    name: 'David Park',
                    email: 'david.park@company.com',
                    department: 'Training',
                    region: 'APAC', 
                    role: 'Learning & Development Manager',
                    team: 'Corporate Training - Asia'
                },
                'maria': {
                    name: 'Maria Silva',
                    email: 'maria.silva@company.com',
                    department: 'Customer Success',
                    region: 'Americas',
                    role: 'Customer Success Manager',
                    team: 'Client Relations - South'
                }
            };
            
            const profile = profiles[userKey];
            if (profile) {
                // Switch to user profile section
                showSection('user-profile');
                
                // Update profile information
                document.getElementById('profileName').textContent = profile.name;
                document.getElementById('profileRole').textContent = `${profile.role} • ${profile.department} • 2.1 years experience`;
                document.getElementById('profileAvatar').textContent = profile.name.split(' ').map(n => n[0]).join('');
                document.getElementById('profileEmail').textContent = profile.email;
                document.getElementById('profileManager').textContent = 'Sarah Martinez';
                document.getElementById('profileDepartment').textContent = profile.department;
                
                showNotification(`Viewing profile for ${profile.name}`, 'info');
            }
        }

        // Save SSO profile changes
        function saveSSProfile() {
            showNotification('✅ SSO profile preferences updated successfully!', 'success');
            
            // Simulate profile sync across systems
            setTimeout(() => {
                showNotification('🔄 Syncing profile across connected systems...', 'info');
            }, 1000);
            
            setTimeout(() => {
                showNotification('✅ Profile synchronized across all learning platforms!', 'success');
            }, 3000);
        }

        // Enhanced keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        showSection('dashboard');
                        break;
                    case '2':
                        e.preventDefault();
                        showSection('recommendations');
                        break;
                    case '3':
                        e.preventDefault();
                        showSection('learning-path');
                        break;
                    case '4':
                        e.preventDefault();
                        showSection('analytics');
                        break;
                    case '5':
                        e.preventDefault();
                        showSection('user-profile');
                        break;
                    case '6':
                        e.preventDefault();
                        showSection('sso-management');
                        break;
                }
            }
        });

        // Close modal when clicking outside
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('profile-modal');
            if (event.target === modal) {
                closeProfileModal();
            }
        });

        // Close modal with escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeProfileModal();
            }
        });

        // Add additional persona dashboards and content sections
        // This would include all the other sections from the original file
        // such as training-gaps, star-rewards, top-performers, reports, sso-management, etc.
        
        // Simulate data updates
        function simulateDataUpdates() {
            const updateElements = [
                { id: 'learningProgress', values: ['76%', '78%', '80%', '82%'] },
                { id: 'skillsGaps', values: ['3', '2', '1', '2'] },
                { id: 'badgesEarned', values: ['4', '5', '6', '5'] },
                { id: 'mobileUsage', values: ['63%', '65%', '67%', '65%'] }
            ];

            updateElements.forEach(element => {
                const el = document.getElementById(element.id);
                if (el) {
                    const randomValue = element.values[Math.floor(Math.random() * element.values.length)];
                    if (el.textContent !== randomValue) {
                        el.style.transform = 'scale(1.1)';
                        el.textContent = randomValue;
                        setTimeout(() => {
                            el.style.transform = 'scale(1)';
                        }, 200);
                    }
                }
            });
        }

        // Update data every 30 seconds
        setInterval(simulateDataUpdates, 30000);
    </script>
</body>
</html>
